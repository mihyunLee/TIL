(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{335:function(t,s,n){"use strict";n.r(s);var e=n(7),a=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"useeffect-알아보기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useeffect-알아보기"}},[t._v("#")]),t._v(" useEffect 알아보기")]),t._v(" "),s("Tags"),t._v(" "),s("h3",{attrs:{id:"useeffect의-호출시기"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useeffect의-호출시기"}},[t._v("#")]),t._v(" useEffect의 호출시기")]),t._v(" "),s("p",[t._v("useEffect()는 컴포넌트가 렌더링 되는 중에 호출 된다.\nComponent도 일반 함수와 같이 호출되며, Component()가 호출될 때 "),s("code",[t._v('useState() 호출 -> useEffect() 호출 -> "Component" 리턴')]),t._v("의 순서로 코드가 실행된다.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("effect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Copmonent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("다시 말해, 아래와 같이 정리할 수 있다.")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("Component Mount 단계")])]),t._v(" "),s("ul",[s("li",[t._v("useEffect() 호출")]),t._v(" "),s("li",[t._v("storage 안에 effect callback, deps 저장")]),t._v(" "),s("li",[t._v("rendering completed")]),t._v(" "),s("li",[t._v("effect callback 호출")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Component re-render")])]),t._v(" "),s("ul",[s("li",[t._v("useEffect() 호출")]),t._v(" "),s("li",[t._v("storage -> old deps, new deps 비교\n"),s("ul",[s("li",[t._v("deps가 변경되었을 경우\n"),s("ul",[s("li",[t._v("effect callback을 storage에 저장")]),t._v(" "),s("li",[t._v("component rendering")]),t._v(" "),s("li",[t._v("effect callback 호출")])])]),t._v(" "),s("li",[t._v("deps가 변경되지 않았을 경우\n"),s("ul",[s("li",[t._v("component rendering")])])])])])])])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("React에서 re-render는 상태 값이 변경될 때 발생한다.\n예시로 "),s("code",[t._v("Ref")]),t._v(" 같은 경우 Component를 re-render 시키지 않는다.\n따라서 useEffect에서 "),s("code",[t._v("Ref")]),t._v("를 사용한다고 해서 useEffect의 의존성 배열에 추가했을 때, Ref(혹은 Ref의 current)가 변경되더라도 useEffect를 호출시킬 전제가 되지 않기 때문에 의존성 배열에 넣는 의미가 없어진다.")]),t._v(" "),s("p",[t._v("만약 useEffect 내에서 Ref를 사용하고 있다는 의미를 표현하고 싶다면, Ref.current가 아닌 Ref 자체를 의존성 배열에 넣어주자.")]),t._v(" "),s("p",[t._v("추가로, Ref.current는 변경이 될 수 있지만, Ref 자체는 setState와 같이 변경되지 않는 객체이다.")])])],1)}),[],!1,null,null,null);s.default=a.exports}}]);