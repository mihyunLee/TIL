<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>의존성 역전 원칙 (DIP) | Today Nor Learned</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0">
    <meta name="description" content="오늘보다 성장할 내일을 위한 기록">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.4cfa8846.css" as="style"><link rel="preload" href="/TIL/assets/js/app.b2dec415.js" as="script"><link rel="preload" href="/TIL/assets/js/2.1a504a2f.js" as="script"><link rel="preload" href="/TIL/assets/js/1.480d404b.js" as="script"><link rel="preload" href="/TIL/assets/js/35.30b64c43.js" as="script"><link rel="preload" href="/TIL/assets/js/21.9d4bd980.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.04f9ab1f.js"><link rel="prefetch" href="/TIL/assets/js/11.30fa55a2.js"><link rel="prefetch" href="/TIL/assets/js/12.468fc541.js"><link rel="prefetch" href="/TIL/assets/js/13.70c6045e.js"><link rel="prefetch" href="/TIL/assets/js/14.2db4c4b3.js"><link rel="prefetch" href="/TIL/assets/js/15.05abcbc9.js"><link rel="prefetch" href="/TIL/assets/js/16.a55a260a.js"><link rel="prefetch" href="/TIL/assets/js/17.796b12ab.js"><link rel="prefetch" href="/TIL/assets/js/18.0b74501a.js"><link rel="prefetch" href="/TIL/assets/js/19.5220f154.js"><link rel="prefetch" href="/TIL/assets/js/20.9d691f77.js"><link rel="prefetch" href="/TIL/assets/js/22.bf36185e.js"><link rel="prefetch" href="/TIL/assets/js/23.7c0c2b97.js"><link rel="prefetch" href="/TIL/assets/js/24.4c6b7ae9.js"><link rel="prefetch" href="/TIL/assets/js/25.d57a5782.js"><link rel="prefetch" href="/TIL/assets/js/26.a7493c77.js"><link rel="prefetch" href="/TIL/assets/js/27.7a16c167.js"><link rel="prefetch" href="/TIL/assets/js/28.7f5ddc27.js"><link rel="prefetch" href="/TIL/assets/js/29.0a65e5a1.js"><link rel="prefetch" href="/TIL/assets/js/3.edcf6607.js"><link rel="prefetch" href="/TIL/assets/js/30.9885d0b6.js"><link rel="prefetch" href="/TIL/assets/js/31.0ef9f25e.js"><link rel="prefetch" href="/TIL/assets/js/32.384a77f4.js"><link rel="prefetch" href="/TIL/assets/js/33.325a9587.js"><link rel="prefetch" href="/TIL/assets/js/34.99e10c03.js"><link rel="prefetch" href="/TIL/assets/js/36.ecc718ee.js"><link rel="prefetch" href="/TIL/assets/js/37.d31bcb2c.js"><link rel="prefetch" href="/TIL/assets/js/38.8d87b891.js"><link rel="prefetch" href="/TIL/assets/js/39.04a4b618.js"><link rel="prefetch" href="/TIL/assets/js/4.8332fc8c.js"><link rel="prefetch" href="/TIL/assets/js/40.33dfa2ad.js"><link rel="prefetch" href="/TIL/assets/js/41.74d729d5.js"><link rel="prefetch" href="/TIL/assets/js/42.901eaf4b.js"><link rel="prefetch" href="/TIL/assets/js/43.403365f0.js"><link rel="prefetch" href="/TIL/assets/js/44.aeb75a74.js"><link rel="prefetch" href="/TIL/assets/js/45.a641e0dc.js"><link rel="prefetch" href="/TIL/assets/js/46.1204b8a1.js"><link rel="prefetch" href="/TIL/assets/js/47.3fa5a64c.js"><link rel="prefetch" href="/TIL/assets/js/48.df7da7cf.js"><link rel="prefetch" href="/TIL/assets/js/49.ff163be4.js"><link rel="prefetch" href="/TIL/assets/js/5.4fcb9610.js"><link rel="prefetch" href="/TIL/assets/js/50.8e3d5707.js"><link rel="prefetch" href="/TIL/assets/js/51.1ac40ec0.js"><link rel="prefetch" href="/TIL/assets/js/6.75815a40.js"><link rel="prefetch" href="/TIL/assets/js/7.9cca9c62.js"><link rel="prefetch" href="/TIL/assets/js/vendors~docsearch.1b782076.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.4cfa8846.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Nor Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/TIL/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/TIL/About.html" class="nav-link">
  ABOUT
</a></div><div class="nav-item"><a href="/TIL/TagList.html" class="nav-link">
  TAG
</a></div><div class="nav-item"><a href="https://codingmyoni.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BLOG
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/mihyunLee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/TIL/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/TIL/About.html" class="nav-link">
  ABOUT
</a></div><div class="nav-item"><a href="/TIL/TagList.html" class="nav-link">
  TAG
</a></div><div class="nav-item"><a href="https://codingmyoni.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BLOG
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/mihyunLee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nextjs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OOP</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/post/dip/" aria-current="page" class="active sidebar-link">의존성 역전 원칙 (DIP)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/post/dip/#의존성-역전-원칙-dip-denepdency-inversion-principle-이란" class="sidebar-link">의존성 역전 원칙(DIP, Denepdency Inversion Principle)이란?</a></li><li class="sidebar-sub-header"><a href="/TIL/post/dip/#dip-원칙-위반-예제와-수정된-코드" class="sidebar-link">DIP 원칙 위반 예제와 수정된 코드</a></li><li class="sidebar-sub-header"><a href="/TIL/post/dip/#의존성-방향-생각해보기" class="sidebar-link">의존성 방향 생각해보기</a></li><li class="sidebar-sub-header"><a href="/TIL/post/dip/#의존성-주입-di-dependency-injection" class="sidebar-link">의존성 주입 (DI, Dependency Injection)</a></li><li class="sidebar-sub-header"><a href="/TIL/post/dip/#의존성-주입의-장단점" class="sidebar-link">의존성 주입의 장단점</a></li><li class="sidebar-sub-header"><a href="/TIL/post/dip/#셀프-코멘트" class="sidebar-link">셀프 코멘트</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Server</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="의존성-역전-원칙-dip"><a href="#의존성-역전-원칙-dip" class="header-anchor">#</a> 의존성 역전 원칙 (DIP)</h1> <div class="tags" data-v-7a1ed3fa><a href="/TIL/TagList.html#OOP" data-v-7a1ed3fa>
    #OOP
  </a><a href="/TIL/TagList.html#SOLID" data-v-7a1ed3fa>
    #SOLID
  </a><a href="/TIL/TagList.html#DIP" data-v-7a1ed3fa>
    #DIP
  </a></div> <h2 id="의존성-역전-원칙-dip-denepdency-inversion-principle-이란"><a href="#의존성-역전-원칙-dip-denepdency-inversion-principle-이란" class="header-anchor">#</a> 의존성 역전 원칙(DIP, Denepdency Inversion Principle)이란?</h2> <p>객체 지향 프로그래밍 및 설계의 5가지 기본 원칙(SOLID: SRP, OCP, LSP, ISP, DIP)중 하나이다.</p> <p>의존성이란 특정한 모듈이 동작하기 위해 다른 모듈을 필요로 하는 것, 즉 의존하는 것을 의미한다.
의존성 역전 원칙은 &quot;유연성이 극대화된 시스템&quot;을 만들기 위한 원칙이다. 이것은 곧 코드 의존성이 추상에 의존하며 구체에는 의존하지 않는 것을 의미한다.</p> <p><strong>추상</strong>이란 구체적인 구현 방법이 포함되어 있지 않아 내부가 어떻게 구현되어 있는지 신경쓰지 않고 <code>내가 해줘야하는 일</code>과 <code>결과</code>만 신경쓸 수 있다.
반대로, <strong>구체</strong>의 경우 구체적인 일련의 동작과 흐름이 포함되어 있어 변경될 여지가 많다.
따라서 구체에 애플리케이션이 의존하게 된다면 구체가 변할 때 마다, 애플리케이션도 그에 맞춰서 변경해주어야 하는 번거로움이 발생한다.</p> <h2 id="dip-원칙-위반-예제와-수정된-코드"><a href="#dip-원칙-위반-예제와-수정된-코드" class="header-anchor">#</a> DIP 원칙 위반 예제와 수정된 코드</h2> <p>서비스 이용시 데이터를 가져오기 위해 fetch 함수에 토큰을 가져오는 로직을 구현하는 경우, 우리는 아래의 코드 패턴을 자주 사용한다.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>위 코드에는 두 가지의 문제점이 존재한다.</p> <ol><li><code>localStorage</code>라는 구체적인 사항에 의존하고 있어 추후에 sessionStorage나 cookieStorage 등 다른 storage로의 변경이 어렵다.</li> <li><code>localStorage</code>는 브라우저에서 제공하는 API로 언제나 변경될 수 있는 외부 요소이다. 외부에 변화가 생기게 되면 우리가 제어할 수 없기 때문에 직접적으로 의존하는 것은 좋지 않다.</li></ol> <p>따라서 외부 요소에 직접적으로 의존하는 코드를 최소화하고, 코드의 제어권을 애플리케이션 안으로 가져와야한다.</p> <p><img src="https://github-production-user-asset-6210df.s3.amazonaws.com/51310674/269694417-d204462a-f6a5-4408-85d8-e057b889b2b0.png" alt="제어권 변경"></p> <h3 id="interface를-이용하여-추상적으로-정의하기"><a href="#interface를-이용하여-추상적으로-정의하기" class="header-anchor">#</a> Interface를 이용하여 추상적으로 정의하기</h3> <p>storage는 token을 관리하기 위해 사용된다.</p> <ol><li>토큰 저장</li> <li>토큰 삭제</li> <li>저장된 토큰 가져오기</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// TokenStorage Interface</span>

<span class="token comment">/*
	save(token:string):void
	get():string
	remove():void
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Interface</strong>란, 2개 이상의 장치나 소프트웨어 사이에 정보나 신호를 주고 받는 접점 혹은 경계면의 의미를 가지고 있다. 즉, 자세히 구현되어 있는 것은 없는 설계도와도 같다.</p> <p>우리가 알고 있는 <strong>API</strong>도 Application Programming Interface로 서로 다른 Application이 통신하는 방법, Interface를 정해놓은 것이다.</p> <h3 id="기능-구현하기"><a href="#기능-구현하기" class="header-anchor">#</a> 기능 구현하기</h3> <p>위에서 정의한 TokenStorage Interface를 기반으로 토큰을 관리하는 기능을 구현해보자.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// TokenStorage Interface</span>

<span class="token comment">/*
	save(token:string):void
	get():string
	remove():void
*/</span>

<span class="token keyword">class</span> <span class="token class-name">LocalTokenStorage</span> <span class="token punctuation">{</span>
  #<span class="token constant">TOKEN_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">;</span>

  <span class="token function">save</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tokenStorage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalTokenStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 코드에 적용</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> tokenStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>이전 코드와는 다르게 현재 애플리케이션의 코드는 외부 요소인 localStorage를 LocalTokenStorage Class에서 관리할 수 있게 된다. 또한 LocalTokenStorage Class는 TokenStorage Interface를 기반으로 정의되었기 때문에 의존 관계가 형성되었다고 볼 수 있다.</p> <p>만약, 외부 요소인 localStorage에 변경 사항이 생기더라도 내부에서 TokenStorage Interface에 맞춰 LocalTokenStorage Class만 변경해주면 되고, save, get, remove 3가지 메소드는 그대로 사용할 수 있게 되는 것이다.</p> <h2 id="의존성-방향-생각해보기"><a href="#의존성-방향-생각해보기" class="header-anchor">#</a> 의존성 방향 생각해보기</h2> <h3 id="기존-코드"><a href="#기존-코드" class="header-anchor">#</a> 기존 코드</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>실행 흐름: fetch -&gt; localStorage</li> <li>의존성 방향: fetch -&gt; localStorage</li></ul> <p>fetch는 localStorage에 의존하고 있기 때문에 만약 localStorage의 메서드가 <code>getItem</code> 에서 <code>bringItem</code>으로 변경되었다면 localStorage를 사용하고 있는 fetch 코드가 모두 수정되어야 한다.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">bringItem</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;followers&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">bringItem</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;followings&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">bringItem</span><span class="token punctuation">(</span><span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>반면에 Interface를 이용한 코드의 의존성 방향과 실행 흐름은 아래와 같다.</p> <h3 id="변경된-코드"><a href="#변경된-코드" class="header-anchor">#</a> 변경된 코드</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// TokenStorage Interface</span>

<span class="token comment">/*
	save(token:string):void
	get():string
	remove():void
*/</span>

<span class="token keyword">class</span> <span class="token class-name">LocalTokenStorage</span> <span class="token punctuation">{</span>
  #<span class="token constant">TOKEN_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">;</span>

  <span class="token function">save</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tokenStorage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalTokenStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 코드에 적용</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> tokenStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li>실행 흐름: fetch -&gt; TokenStorage Interface(추상) -&gt; TokenStorage Class(구체)</li> <li>의존성 방향: fetch -&gt; TokenStorage Interface(추상) &lt;- TokenStorage Class(구체)</li></ul> <p>이와 같이 구체가 아닌 추상에 대한 의존성을 중간에 추가하게 되면 특정 시점에서 코드의 실행 흐름(제어 흐름)과 의존성 방향이 반대로 뒤집히기 때문에 이를 <strong>의존성 역전 원칙(DIP)</strong> 이라고 부르며 <strong>IoC(Inversion of Control)</strong> 이라고도 표현한다.</p> <p>DIP 원칙을 지키면 상대적으로 변경될 여지가 적은 추상적 요소에 의존하도록 설계할 수 있으며, 이는 OCP 원칙을 구현하는 것으로 이어진다.</p> <div class="custom-block tip"><p class="custom-block-title">Tip</p> <p>OCP(Open Closed Principle)란, DIP와 같이 SOLID 원칙 중 하나로 기존의 코드를 변경하지 않으면서, 기능을 추가할 수 있도록 설계가 되어야 한다는 원칙이다.</p> <p>보통 확장에 대해서는 개방적(open)이고, 수정에 대해서는 폐쇠적(closed)이어야 한다는 의미로 정의된다.</p> <p>즉, 기능이 변경되어서 수정이 필요할 때 클래스 <strong>확장을 통해 손쉽게 구현</strong>하되 <strong>확장에 따른 클래스 수정은 최소화</strong> 하도록 프로그램을 설계하는 기법이다.</p></div> <h2 id="의존성-주입-di-dependency-injection"><a href="#의존성-주입-di-dependency-injection" class="header-anchor">#</a> 의존성 주입 (DI, Dependency Injection)</h2> <p>의존성 주입이란 클래스 간 의존성을 클래스 내부가 아닌 외부에서 주입하는 것을 의미한다.</p> <h3 id="의존성-주입이-필요한-경우"><a href="#의존성-주입이-필요한-경우" class="header-anchor">#</a> 의존성 주입이 필요한 경우</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>만약 위의 코드처럼 콘솔에 data를 출력해주는 <code>log()</code> 함수를 만들었을 때 error, info, warn 등 다양한 방법으로 콘솔에 출력하고 싶다면 어떻게 해야할까?</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">consoleLog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">consoleError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">consoleInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">consoleWarn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">Warn</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">consoleLog</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">consoleError</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">consoleInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">consoleWarn</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>코드만 봐도 숨이 막히는 느낌이 들 것이다.
이를 의존성 주입을 통해 쉽게 해결할 수 있다.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">logger<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">logger</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">log</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">,</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>info<span class="token punctuation">,</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>warn<span class="token punctuation">,</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>customLogger<span class="token punctuation">,</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>함수 내부에서 값을 지정하는 것이 아닌 함수 외부에서 매개변수로 전달받은 값을 사용하여 의존성 주입을 적용할 수 있다.
의존성 주입은 곧 프로그램의 유연성, 재사용성을 높여 코드의 유지보수를 쉽게 만든다.</p> <h3 id="의존성-주입-예제"><a href="#의존성-주입-예제" class="header-anchor">#</a> 의존성 주입 예제</h3> <p>아까의 토큰을 관리하는 예제로 돌아가 해당 코드의 의존성을 주입하면 아래의 코드가 된다.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">LocalTokenStorage</span> <span class="token punctuation">{</span>
  #<span class="token constant">TOKEN_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">;</span>

  <span class="token function">save</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SessionTokenStorage</span> <span class="token punctuation">{</span>
  #<span class="token constant">TOKEN_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;ACCESS_TOKEN&quot;</span><span class="token punctuation">;</span>

  <span class="token function">save</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#<span class="token constant">TOKEN_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HttpClient</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">baseURL<span class="token punctuation">,</span> tokenStorage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>baseURL <span class="token operator">=</span> baseURL<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tokenStorage <span class="token operator">=</span> tokenStorage<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>options<span class="token punctuation">,</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">Authorization</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tokenStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>options<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// localStorage</span>
<span class="token keyword">const</span> localTokenRepository <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LocalTokenStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClient</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span> localTokenStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sessionStorage</span>
<span class="token keyword">const</span> sessionTokenStorage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SessionTokenStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClient</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span> sessionTokenStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>의존성 주입을 적용하면 해당 모듈에서 직접적으로 의존성을 가지고 있지 않기 때문에 모듈 내부의 코드는 건들지 않고 모듈 외부의 일부 코드만 수정해서 동작을 변경할 수 있다.</p> <h2 id="의존성-주입의-장단점"><a href="#의존성-주입의-장단점" class="header-anchor">#</a> 의존성 주입의 장단점</h2> <h3 id="의존성-주입의-장점"><a href="#의존성-주입의-장점" class="header-anchor">#</a> 의존성 주입의 장점</h3> <ul><li>코드의 확장성, 유연성, 재사용성이 높아진다.</li> <li>모듈 간 결합도가 낮기 때문에 변경 사항이 있을 때 수정의 범위가 적다.</li> <li>유지보수가 쉬우며 테스트가 용이해진다.</li></ul> <h3 id="의존성-주입의-단점"><a href="#의존성-주입의-단점" class="header-anchor">#</a> 의존성 주입의 단점</h3> <ul><li>의존성 주입을 위해 정의해야할 클래스의 수가 늘어나면서 복잡성이 증가한다.</li> <li>주입된 객체에 관한 코드 추적이 어렵다.</li> <li>초기 개발 노력이 필요하다.</li></ul> <h2 id="셀프-코멘트"><a href="#셀프-코멘트" class="header-anchor">#</a> 셀프 코멘트</h2> <p>원티드 프리온보딩을 복습하며 내용을 다시 보았는데 의존성 역전, 의존성 주입, ... 단어만 들었을 때는 이해가 되지 않았다.
코드를 다시 보니 개발할 때 많이 접했던 상황이었고, 변경사항이 있을 때마다 이리저리 코드를 보며 수정해왔던 나를 반성하게 되었다.</p> <p>물론, 간단한 프로그램의 경우 의존성 주입의 적용은 설계에 대한 시간 소모가 커서 불필요하다고 생각한다. 하지만 어느 정도 규모가 있는 프로젝트라면 오히려 개발 속도와 유지보수에 많은 장점을 가져다 줄 수 있다고 생각한다.</p> <p>미니 프로젝트를 여러개 해보면서 내가 왜 이렇게 설계했을까 후회했던 적이 많았는데 이번 개념을 알게 되면서 조금 더 나은 설계를 할 수 있길 기대한다 😄</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/post/approuter/" class="prev">
        Next13 App Router
      </a></span> <span class="next"><a href="/TIL/post/useeffect/">
        useEffect 알아보기
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/TIL/assets/js/app.b2dec415.js" defer></script><script src="/TIL/assets/js/2.1a504a2f.js" defer></script><script src="/TIL/assets/js/1.480d404b.js" defer></script><script src="/TIL/assets/js/35.30b64c43.js" defer></script><script src="/TIL/assets/js/21.9d4bd980.js" defer></script>
  </body>
</html>
